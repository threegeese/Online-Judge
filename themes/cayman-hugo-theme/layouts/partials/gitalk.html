{{ if .Site.Params.enableGitalk }}
  <div id="gitalk-container"></div>
  <link rel="stylesheet" href="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.css">
  <script src="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>
  <script>
    const gitalk = new Gitalk({
      clientID: '{{ .Site.Params.Gitalk.clientID }}',
      clientSecret: '{{ .Site.Params.Gitalk.clientSecret }}',
      repo: '{{ .Site.Params.Gitalk.repo }}',
      owner: '{{ .Site.Params.Gitalk.owner }}',
      admin: ['{{ .Site.Params.Gitalk.owner }}'],
      id: location.pathname, // Ensure uniqueness and length less than 50
      distractionFreeMode: false // Facebook-like distraction free mode
    });
    (function () {
      if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
        document.getElementById('gitalk-container').innerHTML = '<p style="text-align: center; color: rgba(243, 11, 30, .5);">⚠️ Gitalk comments not available by default when the website is previewed locally.</p>';
        return
      }
      gitalk.render('gitalk-container')
    })()
  </script>
{{ end }}